---
title: 10 集群
author: Herman
updateTime: 2024-08-11 21:34
desc: 集群
categories: 中间件
tags: redis
outline: deep
---

### CAP 原理
CAP是分布式存储的理论基石， 一致性(C) 、 可用性(A)、 分区容忍性(P); 分布式的节点往往都是分布在不同的机器上，这意味着必然会有网络断开的风险，这个场景叫做网络分区。

在网络分区发生时，两个分布式节点之间无法进行通信，我们对一个节点进行的修改操作将无法同步到另外一个节点，所以数据的「一致性」将无法满足，因为两个分布式节点的数据不再保持一致。除非我们牺牲「可用性」，也就是暂停分布式节点服务，在网络分区发生时，不再提供修改数据的功能，直到网络状况完全恢复正常再继续对外提供服务。

> 一句话概括 CAP 原理就是——网络分区发生时，一致性和可用性两难全。

redis的主从同步是异步的，所以redis的分布式系统并不满足一致性，即使主从网络出现了问题，主节点依旧可以对外提供服务，所以redis的分布式系统是满足了 AP； 当从节点网络恢复后，会努力追赶主节点，最终会和主节点的状态一致，所以redis采用的是最终一致性。






原文链接: [http://herman7z.site](http://herman7z.site)
