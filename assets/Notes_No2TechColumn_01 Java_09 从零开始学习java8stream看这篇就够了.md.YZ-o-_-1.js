import{_ as a,c as s,o as e,aa as t}from"./chunks/framework.DOnJscRE.js";const m=JSON.parse('{"title":"09 ä»é›¶å¼€å§‹å­¦ä¹ java8streamçœ‹è¿™ç¯‡å°±å¤Ÿäº†","description":"","frontmatter":{"title":"09 ä»é›¶å¼€å§‹å­¦ä¹ java8streamçœ‹è¿™ç¯‡å°±å¤Ÿäº†","author":"Herman","updateTime":"2021-08-14 13:41","desc":"ä»é›¶å¼€å§‹å­¦ä¹ java8streamçœ‹è¿™ç¯‡å°±å¤Ÿäº†","categories":"Java","tags":"Java8æ–°ç‰¹æ€§/stream","outline":"deep"},"headers":[],"relativePath":"Notes/No2TechColumn/01 Java/09 ä»é›¶å¼€å§‹å­¦ä¹ java8streamçœ‹è¿™ç¯‡å°±å¤Ÿäº†.md","filePath":"Notes/No2TechColumn/01 Java/09 ä»é›¶å¼€å§‹å­¦ä¹ java8streamçœ‹è¿™ç¯‡å°±å¤Ÿäº†.md","lastUpdated":1724595807000}'),n={name:"Notes/No2TechColumn/01 Java/09 ä»é›¶å¼€å§‹å­¦ä¹ java8streamçœ‹è¿™ç¯‡å°±å¤Ÿäº†.md"},l=t(`<hr><h3 id="ä¸ºä½•éœ€è¦å¼•å…¥æµ" tabindex="-1">ä¸ºä½•éœ€è¦å¼•å…¥æµ <a class="header-anchor" href="#ä¸ºä½•éœ€è¦å¼•å…¥æµ" aria-label="Permalink to &quot;ä¸ºä½•éœ€è¦å¼•å…¥æµ&quot;">â€‹</a></h3><p>åœ¨æˆ‘ä»¬å¹³å¸¸çš„å¼€å‘ä¸­å‡ ä¹æ¯å¤©éƒ½ä¼šæœ‰åˆ°Listã€Mapç­‰é›†åˆAPIï¼Œè‹¥æ˜¯é—®Javaä»€ä¹ˆAPIä½¿ç”¨æœ€å¤šï¼Œæˆ‘æƒ³ä¹Ÿåº”è¯¥æ˜¯é›†åˆäº†ã€‚ä¸¾ä¾‹ï¼šå‡å¦‚æˆ‘æœ‰ä¸ªé›†åˆListï¼Œé‡Œé¢å…ƒç´ æœ‰<code>1,7,3,8,2,4,9</code>ï¼Œéœ€è¦æ‰¾å‡ºé‡Œé¢å¤§äº5çš„å…ƒç´ ï¼Œå…·ä½“å®ç°ä»£ç ï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>public List&lt;Integer&gt; getGt5Data() {</span></span>
<span class="line"><span>    List&lt;Integer&gt; data = Arrays.asList(1, 7, 3, 8, 2, 4, 9);</span></span>
<span class="line"><span>    List&lt;Integer&gt; result = new ArrayList&lt;&gt;();</span></span>
<span class="line"><span>    for (Integer num : data) {</span></span>
<span class="line"><span>        if (num &gt; 5) {</span></span>
<span class="line"><span>            result.add(num);</span></span>
<span class="line"><span>        }</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>    return result;</span></span>
<span class="line"><span>}</span></span></code></pre></div><p>è¿™ä¸ªå®ç°è®©æˆ‘ä»¬æ„Ÿè§‰åˆ°äº†é›†åˆçš„æ“ä½œä¸æ˜¯å¤ªå®Œç¾ï¼Œå¦‚æœæ˜¯æ•°æ®åº“çš„è¯ï¼Œæˆ‘ä»¬åªéœ€è¦ç®€å•çš„åœ¨whereåé¢åŠ ä¸€ä¸ªæ¡ä»¶å¤§äº5å°±å¯ä»¥å¾—åˆ°æˆ‘ä»¬æƒ³è¦çš„ç»“æœï¼Œä¸ºä»€ä¹ˆJavaçš„é›†åˆå°±æ²¡æœ‰è¿™ç§APIå‘¢ï¼Ÿ å…¶æ¬¡ï¼Œå¦‚æœæˆ‘ä»¬é‡åˆ°æœ‰å¤§é›†åˆéœ€è¦å¤„ç†ï¼Œä¸ºäº†æé«˜æ€§èƒ½ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦ä½¿ç”¨åˆ°å¤šçº¿ç¨‹æ¥å¤„ç†ï¼Œä½†æ˜¯å†™å¹¶è¡Œç¨‹åºçš„å¤æ‚åº¦æœ‰æé«˜äº†ä¸å°‘ã€‚</p><p>åŸºäºä»¥ä¸Šçš„é—®é¢˜ï¼Œæ‰€æœ‰Java8æ¨å‡ºäº†Stream</p><hr><h3 id="streamç®€ä»‹" tabindex="-1">Streamç®€ä»‹ <a class="header-anchor" href="#streamç®€ä»‹" aria-label="Permalink to &quot;Streamç®€ä»‹&quot;">â€‹</a></h3><p>Streamæœ‰å“ªäº›ç‰¹ç‚¹ï¼š</p><ul><li>å…ƒç´ çš„åºåˆ—ï¼šä¸é›†åˆä¸€æ ·å¯ä»¥è®¿é—®é‡Œé¢çš„å…ƒç´ ï¼Œé›†åˆè®²çš„æ˜¯æ•°æ®ï¼Œè€Œæµè®²çš„æ˜¯æ“ä½œï¼Œæ¯”å¦‚ï¼šfilterã€map</li><li>æº: æµä¹Ÿéœ€è¦åˆä¸€ä¸ªæä¾›æ•°æ®çš„æºï¼Œé¡ºåºå’Œç”Ÿæˆæ—¶çš„é¡ºåºä¸€è‡´</li><li>æ•°æ®çš„æ“ä½œï¼šæµæ”¯æŒç±»ä¼¼äºæ•°æ®åº“çš„æ“ä½œï¼Œæ”¯æŒé¡ºåºæˆ–è€…å¹¶è¡Œå¤„ç†æ•°æ®ï¼›ä¸Šé¢çš„ä¾‹å­ç”¨æµæ¥å®ç°ä¼šæ›´åŠ çš„ç®€æ´</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>public List&lt;Integer&gt; getGt5Data() {</span></span>
<span class="line"><span>    return Stream.of(1, 7, 3, 8, 2, 4, 9)</span></span>
<span class="line"><span>            .filter(num -&gt; num &gt; 5)</span></span>
<span class="line"><span>            .collect(toList());</span></span>
<span class="line"><span>}</span></span></code></pre></div><ul><li>æµæ°´çº¿æ“ä½œï¼šå¾ˆå¤šæµçš„æ–¹æ³•æœ¬èº«ä¹Ÿä¼šè¿”å›ä¸€ä¸ªæµï¼Œè¿™æ ·å¯ä»¥æŠŠå¤šä¸ªæ“ä½œè¿æ¥èµ·æ¥ï¼Œå½¢æˆæµæ°´çº¿æ“ä½œ</li><li>å†…éƒ¨è¿­ä»£ï¼šä¸ä»¥å¾€çš„è¿­ä»£ä¸åŒï¼Œæµä½¿ç”¨çš„å†…éƒ¨è¿­ä»£ï¼Œç”¨æˆ·åªéœ€è¦ä¸“æ³¨äºæ•°æ®å¤„ç†</li><li>åªèƒ½éå†ä¸€æ¬¡ï¼š éå†å®Œæˆä¹‹åæˆ‘ä»¬çš„æµå°±å·²ç»æ¶ˆè´¹å®Œäº†ï¼Œå†æ¬¡éå†çš„è¯ä¼šæŠ›å‡ºå¼‚å¸¸</li></ul><hr><h3 id="ä½¿ç”¨stream" tabindex="-1">ä½¿ç”¨Stream <a class="header-anchor" href="#ä½¿ç”¨stream" aria-label="Permalink to &quot;ä½¿ç”¨Stream&quot;">â€‹</a></h3><p>Java8ä¸­çš„Streamå®šä¹‰äº†å¾ˆå¤šæ–¹æ³•ï¼ŒåŸºæœ¬å¯ä»¥æŠŠä»–ä»¬åˆ†ä¸ºä¸¤ç±»ï¼šä¸­é—´æ“ä½œã€ç»ˆç«¯æ“ä½œï¼›è¦ä½¿ç”¨ä¸€ä¸ªæµä¸€èˆ¬éƒ½éœ€è¦ä¸‰ä¸ªæ“ä½œï¼š</p><ol><li>å®šä¹‰ä¸€ä¸ªæ•°æ®æº</li><li>å®šä¹‰ä¸­é—´æ“ä½œå½¢æˆæµæ°´çº¿</li><li>å®šä¹‰ç»ˆç«¯æ“ä½œï¼Œæ‰§è¡Œæµæ°´çº¿ï¼Œç”Ÿæˆè®¡ç®—ç»“æœ</li></ol><h4 id="æ„å»ºæµ" tabindex="-1">æ„å»ºæµ <a class="header-anchor" href="#æ„å»ºæµ" aria-label="Permalink to &quot;æ„å»ºæµ&quot;">â€‹</a></h4><ol><li>ä½¿ç”¨<code>Stream.of</code>æ–¹æ³•æ„å»ºä¸€ä¸ªæµ</li></ol><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Stream.of(&quot;silently&quot;,&quot;9527&quot;,&quot;silently9527.cn&quot;)</span></span>
<span class="line"><span>        .forEach(System.out::println);</span></span></code></pre></div><ol start="2"><li>ä½¿ç”¨æ•°ç»„æ„å»ºä¸€ä¸ªæµ</li></ol><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>int[] nums = {3, 5, 2, 7, 8, 9};</span></span>
<span class="line"><span>Arrays.stream(nums).sorted().forEach(System.out::println);</span></span></code></pre></div><ol start="3"><li>é€šè¿‡æ–‡ä»¶æ„å»ºä¸€ä¸ªæµ ä½¿ç”¨java.nio.file.Files.linesæ–¹æ³•å¯ä»¥è½»æ¾æ„å»ºä¸€ä¸ªæµå¯¹è±¡</li></ol><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Files.lines(Paths.get(&quot;/Users/huaan9527/Desktop/data.txt&quot;))</span></span>
<span class="line"><span>                .forEach(System.out::println);</span></span></code></pre></div><h4 id="ä¸­é—´æ“ä½œ" tabindex="-1">ä¸­é—´æ“ä½œ <a class="header-anchor" href="#ä¸­é—´æ“ä½œ" aria-label="Permalink to &quot;ä¸­é—´æ“ä½œ&quot;">â€‹</a></h4><p>ä¸­é—´æ“ä½œä¼šè¿”å›å¦å¤–ä¸€ä¸ªæµï¼Œè¿™æ ·å¯ä»¥è®©å¤šä¸ªæ“ä½œè¿æ¥èµ·æ¥å½¢æˆä¸€ä¸ªæµæ°´çº¿çš„æ“ä½œï¼Œåªè¦ä¸è§¦å‘ç»ˆç«¯æ“ä½œï¼Œé‚£ä¹ˆè¿™ä¸ªä¸­é—´æ“ä½œéƒ½ä¸ä¼šå®é™…æ‰§è¡Œã€‚</p><h5 id="filter" tabindex="-1">filter <a class="header-anchor" href="#filter" aria-label="Permalink to &quot;filter&quot;">â€‹</a></h5><p>è¯¥æ“ä½œæ¥å—ä¸€ä¸ªè¿”å›booleançš„å‡½æ•°ï¼Œå½“è¿”å›falseçš„å…ƒç´ å°†ä¼šè¢«æ’é™¤æ‰</p><p>ä¸¾ä¾‹ï¼šå‡å¦‚æˆ‘ä»¬100ä¸ªå®¢æˆ·ï¼Œéœ€è¦ç­›é€‰å‡ºå¹´é¾„å¤§äº20å²çš„å®¢æˆ·</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>List&lt;Customer&gt; matchCustomers = allCustomers.stream()</span></span>
<span class="line"><span>                .filter(customer -&gt; customer.getAge()&gt;20)</span></span>
<span class="line"><span>                .collect(toList());</span></span></code></pre></div><h5 id="distinct" tabindex="-1">distinct <a class="header-anchor" href="#distinct" aria-label="Permalink to &quot;distinct&quot;">â€‹</a></h5><p>è¯¥æ“ä½œå°†ä¼šæ’é™¤æ‰é‡å¤çš„å…ƒç´ </p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>List&lt;Integer&gt; data = Stream.of(1, 7, 3, 8, 2, 4, 9, 7, 9)</span></span>
<span class="line"><span>        .filter(num -&gt; num &gt; 5)</span></span>
<span class="line"><span>        .distinct()</span></span>
<span class="line"><span>        .collect(toList());</span></span></code></pre></div><h5 id="limit" tabindex="-1">limit <a class="header-anchor" href="#limit" aria-label="Permalink to &quot;limit&quot;">â€‹</a></h5><p>è¯¥æ–¹æ³•é™åˆ¶æµåªè¿”å›æŒ‡å®šä¸ªæ•°çš„å…ƒç´ </p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>List&lt;Integer&gt; data = Stream.of(1, 7, 3, 8, 2, 4, 9, 7, 9)</span></span>
<span class="line"><span>        .filter(num -&gt; num &gt; 5)</span></span>
<span class="line"><span>        .limit(2)</span></span>
<span class="line"><span>        .collect(toList());</span></span></code></pre></div><h5 id="skip" tabindex="-1">skip <a class="header-anchor" href="#skip" aria-label="Permalink to &quot;skip&quot;">â€‹</a></h5><p>æ‰”æ‰å‰æŒ‡å®šä¸ªæ•°çš„å…ƒç´ ï¼›é…åˆlimitä½¿ç”¨å¯ä»¥è¾¾åˆ°ç¿»é¡µçš„æ•ˆæœ</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>List&lt;Integer&gt; data = Stream.of(1, 7, 3, 8, 2, 4, 9, 7, 9)</span></span>
<span class="line"><span>        .filter(num -&gt; num &gt; 5)</span></span>
<span class="line"><span>        .skip(1)</span></span>
<span class="line"><span>        .limit(2)</span></span>
<span class="line"><span>        .collect(toList());</span></span></code></pre></div><h5 id="map" tabindex="-1">map <a class="header-anchor" href="#map" aria-label="Permalink to &quot;map&quot;">â€‹</a></h5><p>è¯¥æ–¹æ³•æä¾›ä¸€ä¸ªå‡½æ•°ï¼Œæµä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½ä¼šåº”ç”¨åˆ°è¿™ä¸ªå‡½æ•°ä¸Šï¼Œè¿”å›çš„ç»“æœå°†å½¢æˆæ–°ç±»å‹çš„æµç»§ç»­åç»­æ“ä½œã€‚ ä¸¾ä¾‹ï¼šå‡å¦‚æˆ‘ä»¬100ä¸ªå®¢æˆ·ï¼Œéœ€è¦ç­›é€‰å‡ºå¹´é¾„å¤§äº20å²çš„å®¢æˆ·ï¼Œæ‰“å°å‡ºä»–ä»¬çš„åå­—</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>allCustomers.stream()</span></span>
<span class="line"><span>            .filter(customer -&gt; customer.getAge() &gt; 20)</span></span>
<span class="line"><span>            .map(Customer::getName)</span></span>
<span class="line"><span>            .forEach(System.out::println);</span></span></code></pre></div><p>åœ¨è°ƒç”¨mapä¹‹å‰æµçš„ç±»å‹æ˜¯<code>Stream&lt;Customer&gt;</code>ï¼Œæ‰§è¡Œå®Œmapä¹‹åçš„ç±»å‹æ˜¯<code>Stream&lt;String&gt;</code></p><h5 id="flatmap" tabindex="-1">flatMap <a class="header-anchor" href="#flatmap" aria-label="Permalink to &quot;flatMap&quot;">â€‹</a></h5><p>å‡å¦‚æˆ‘ä»¬éœ€è¦æŠŠå®¢æˆ·çš„åå­—ä¸­çš„æ¯ä¸ªå­—ç¬¦æ‰“å°å‡ºæ¥ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>List&lt;Customer&gt; allCustomers = Arrays.asList(new Customer(&quot;silently9527&quot;, 30));</span></span>
<span class="line"><span>allCustomers.stream()</span></span>
<span class="line"><span>        .filter(customer -&gt; customer.getAge() &gt; 20)</span></span>
<span class="line"><span>        .map(customer -&gt; customer.getName().split(&quot;&quot;))</span></span>
<span class="line"><span>        .forEach(System.out::println);</span></span></code></pre></div><p>æ‰§è¡Œæœ¬æ¬¡ç»“æœï¼Œä½ ä¼šå‘ç°æ²¡æœ‰è¾¾åˆ°æœŸæœ›çš„ç»“æœï¼Œæ‰“å°çš„ç»“æœ</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[Ljava.lang.String;@38cccef</span></span></code></pre></div><p>è¿™æ˜¯å› ä¸ºè°ƒç”¨mapä¹‹åè¿”å›çš„æµç±»å‹æ˜¯<code>Stream&lt;String[]&gt;</code>ï¼Œæ‰€æœ‰forEachçš„è¾“å…¥å°±æ˜¯<code>String[]</code>ï¼›è¿™æ—¶å€™æˆ‘ä»¬éœ€è¦ä½¿ç”¨flatMapæŠŠ<code>String[]</code>ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½è½¬æ¢æˆä¸€ä¸ªæµï¼Œç„¶ååœ¨æŠŠæ‰€æœ‰çš„æµè¿æ¥æˆä¸€ä¸ªæµï¼Œä¿®æ”¹åçš„ä»£ç å¦‚ä¸‹</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>List&lt;Customer&gt; allCustomers = Arrays.asList(new Customer(&quot;silently9527&quot;, 30));</span></span>
<span class="line"><span>allCustomers.stream()</span></span>
<span class="line"><span>        .filter(customer -&gt; customer.getAge() &gt; 20)</span></span>
<span class="line"><span>        .map(customer -&gt; customer.getName().split(&quot;&quot;))</span></span>
<span class="line"><span>        .flatMap(Arrays::stream)</span></span>
<span class="line"><span>        .forEach(System.out::println);</span></span></code></pre></div><p>æ‰§è¡Œç»“æœï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/silently9527/images/4db2aa4e3dcb4360975595e51d1097c4%7Etplv-k3u1fbpfcp-watermark.image" alt=""></p><h5 id="sorted" tabindex="-1">sorted <a class="header-anchor" href="#sorted" aria-label="Permalink to &quot;sorted&quot;">â€‹</a></h5><p>å¯¹æ‰€æœ‰çš„å…ƒç´ è¿›è¡Œæ’åº</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>List&lt;Integer&gt; numbers = Arrays.asList(1, 7, 3, 8, 2, 4, 9);</span></span>
<span class="line"><span>numbers.stream().sorted(Integer::compareTo).forEach(System.out::println);</span></span></code></pre></div><h4 id="ç»ˆç«¯æ“ä½œ" tabindex="-1">ç»ˆç«¯æ“ä½œ <a class="header-anchor" href="#ç»ˆç«¯æ“ä½œ" aria-label="Permalink to &quot;ç»ˆç«¯æ“ä½œ&quot;">â€‹</a></h4><p>ç»ˆç«¯æ“ä½œä¼šæ‰§è¡Œæ‰€æœ‰çš„ä¸­é—´æ“ä½œç”Ÿæˆæ‰§è¡Œçš„ç»“æœï¼Œæ‰§è¡Œçš„ç»“æœä¸åœ¨æ˜¯ä¸€ä¸ªæµã€‚</p><h5 id="anymatch" tabindex="-1">anyMatch <a class="header-anchor" href="#anymatch" aria-label="Permalink to &quot;anyMatch&quot;">â€‹</a></h5><p>å¦‚æœæµä¸­æœ‰ä¸€ä¸ªå…ƒç´ æ»¡è¶³æ¡ä»¶å°†è¿”å›true</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>if (allCustomers.stream().anyMatch(customer -&gt; &quot;silently9527&quot;.equals(customer.getName()))) {</span></span>
<span class="line"><span>    System.out.println(&quot;å­˜åœ¨ç”¨æˆ·silently9527&quot;);</span></span>
<span class="line"><span>}</span></span></code></pre></div><h5 id="allmatch" tabindex="-1">allMatch <a class="header-anchor" href="#allmatch" aria-label="Permalink to &quot;allMatch&quot;">â€‹</a></h5><p>ç¡®ä¿æµä¸­æ‰€æœ‰çš„å…ƒç´ éƒ½èƒ½æ»¡è¶³</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>if (allCustomers.stream().allMatch(customer -&gt; customer.getAge() &gt; 20)) {</span></span>
<span class="line"><span>    System.out.println(&quot;æ‰€æœ‰ç”¨æˆ·å¹´é¾„éƒ½å¤§äº20&quot;);</span></span>
<span class="line"><span>}</span></span></code></pre></div><h5 id="nonematch" tabindex="-1">noneMatch <a class="header-anchor" href="#nonematch" aria-label="Permalink to &quot;noneMatch&quot;">â€‹</a></h5><p>ä¸allMatchæ“ä½œç›¸åï¼Œç¡®ä¿æµä¸­æ‰€æœ‰çš„å…ƒç´ éƒ½ä¸æ»¡è¶³</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>if (allCustomers.stream().noneMatch(customer -&gt; customer.getAge() &lt; 20)) {</span></span>
<span class="line"><span>    System.out.println(&quot;æ‰€æœ‰ç”¨æˆ·å¹´é¾„éƒ½å¤§äº20&quot;);</span></span>
<span class="line"><span>}</span></span></code></pre></div><h5 id="findany" tabindex="-1">findAny <a class="header-anchor" href="#findany" aria-label="Permalink to &quot;findAny&quot;">â€‹</a></h5><p>è¿”å›æµä¸­çš„ä»»æ„ä¸€ä¸ªå…ƒç´ ï¼Œæ¯”å¦‚è¿”å›å¤§äº20å²çš„ä»»æ„ä¸€ä¸ªå®¢æˆ·</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Optional&lt;Customer&gt; optional = allCustomers.stream()</span></span>
<span class="line"><span>        .filter(customer -&gt; customer.getAge() &gt; 20)</span></span>
<span class="line"><span>        .findAny();</span></span></code></pre></div><h5 id="findfirst" tabindex="-1">findFirst <a class="header-anchor" href="#findfirst" aria-label="Permalink to &quot;findFirst&quot;">â€‹</a></h5><p>è¿”å›æµä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ </p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Optional&lt;Customer&gt; optional = allCustomers.stream()</span></span>
<span class="line"><span>        .filter(customer -&gt; customer.getAge() &gt; 20)</span></span>
<span class="line"><span>        .findFirst();</span></span></code></pre></div><h5 id="reduce" tabindex="-1">reduce <a class="header-anchor" href="#reduce" aria-label="Permalink to &quot;reduce&quot;">â€‹</a></h5><p>æ¥å—ä¸¤ä¸ªå‚æ•°ï¼šä¸€ä¸ªåˆå§‹å€¼ï¼Œä¸€ä¸ª<code>BinaryOperator&lt;T&gt; accumulator</code>å°†ä¸¤ä¸ªå…ƒç´ åˆå¹¶æˆä¸€ä¸ªæ–°çš„å€¼ æ¯”å¦‚æˆ‘ä»¬å¯¹ä¸€ä¸ªæ•°å­—listç´¯åŠ </p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>List&lt;Integer&gt; numbers = Arrays.asList(1, 7, 3, 8, 2, 4, 9);</span></span>
<span class="line"><span>Integer sum = numbers.stream().reduce(0, (a, b) -&gt; a + b);</span></span></code></pre></div><p>ä¸Šé¢çš„ä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å†™</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Integer reduce = numbers.stream().reduce(0, Integer::sum);</span></span></code></pre></div><p>æ‰¾å‡ºæµä¸­çš„æœ€å¤§å€¼ã€æœ€å°å€¼ minã€max</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>numbers.stream().reduce(Integer::max)</span></span>
<span class="line"><span>numbers.stream().reduce(Integer::min)</span></span></code></pre></div><h5 id="count" tabindex="-1">count <a class="header-anchor" href="#count" aria-label="Permalink to &quot;count&quot;">â€‹</a></h5><p>ç»Ÿè®¡æµä¸­å…ƒç´ çš„ä¸ªæ•°</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>numbers.stream().count()</span></span></code></pre></div><h3 id="æ•°æ®æ”¶é›†å™¨collect" tabindex="-1">æ•°æ®æ”¶é›†å™¨collect <a class="header-anchor" href="#æ•°æ®æ”¶é›†å™¨collect" aria-label="Permalink to &quot;æ•°æ®æ”¶é›†å™¨collect&quot;">â€‹</a></h3><p>åœ¨Java8ä¸­å·²ç»é¢„å®šä¹‰äº†å¾ˆå¤šæ”¶é›†å™¨ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œæ‰€æœ‰çš„æ”¶é›†å™¨éƒ½å®šä¹‰åœ¨äº†<code>Collectors</code>ä¸­ï¼ŒåŸºæœ¬ä¸Šå¯ä»¥æŠŠè¿™äº›æ–¹æ³•åˆ†ä¸ºä¸‰ç±»ï¼š</p><ul><li>å°†å…ƒç´ å½’çº¦å’Œæ±‡æ€»æˆä¸€ä¸ªå€¼</li><li>åˆ†ç»„</li><li>åˆ†åŒº</li></ul><h4 id="å½’çº¦å’Œæ±‡æ€»" tabindex="-1">å½’çº¦å’Œæ±‡æ€» <a class="header-anchor" href="#å½’çº¦å’Œæ±‡æ€»" aria-label="Permalink to &quot;å½’çº¦å’Œæ±‡æ€»&quot;">â€‹</a></h4><p>å…ˆçœ‹ä¸‹æˆ‘ä»¬ä¹‹å‰æ±‚æœ€å¤§å€¼å’Œæœ€å°å€¼é‡‡ç”¨æ”¶é›†å™¨å¦‚ä½•å®ç°</p><ol><li>æ‰¾å‡ºå¹´é¾„æœ€å¤§å’Œæœ€å°çš„å®¢æˆ·</li></ol><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Optional&lt;Customer&gt; minAgeCustomer = allCustomers.stream().collect(minBy(Comparator.comparing(Customer::getAge)));</span></span>
<span class="line"><span>Optional&lt;Customer&gt; maxAgeCustomer = allCustomers.stream().collect(maxBy(Comparator.comparing(Customer::getAge)));</span></span></code></pre></div><ol start="2"><li>æ±‚å–å¹´é¾„çš„å¹³å‡å€¼</li></ol><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Double avgAge = allCustomers.stream().collect(averagingInt(Customer::getAge));</span></span></code></pre></div><ol start="3"><li>è¿›è¡Œå­—ç¬¦ä¸²çš„è¿æ¥</li></ol><p>æŠŠå®¢æˆ·æ‰€æœ‰äººçš„åå­—è¿æ¥æˆä¸€ä¸ªå­—ç¬¦ä¸²ç”¨é€—å·åˆ†éš”</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>allCustomers.stream().map(Customer::getName).collect(joining(&quot;,&quot;));</span></span></code></pre></div><h4 id="åˆ†ç»„" tabindex="-1">åˆ†ç»„ <a class="header-anchor" href="#åˆ†ç»„" aria-label="Permalink to &quot;åˆ†ç»„&quot;">â€‹</a></h4><p>åœ¨æ•°æ®åº“çš„æ“ä½œä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è½»æ¾çš„å®ç°é€šè¿‡ä¸€ä¸ªå±æ€§æˆ–è€…å¤šä¸ªå±æ€§è¿›è¡Œæ•°æ®åˆ†ç»„ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬çœ‹çœ‹Java8å¦‚ä½•æ¥å®ç°è¿™ä¸ªåŠŸèƒ½ã€‚</p><ol><li>æ ¹æ®å®¢æˆ·çš„å¹´é¾„è¿›è¡Œåˆ†ç»„</li></ol><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Map&lt;Integer, List&lt;Customer&gt;&gt; groupByAge = allCustomers.stream().collect(groupingBy(Customer::getAge));</span></span></code></pre></div><p>Mapçš„keyå°±æ˜¯åˆ†ç»„çš„å€¼å¹´é¾„ï¼Œ<code>List&lt;Customer&gt;</code>å°±æ˜¯ç›¸åŒå¹´é¾„çš„ç”¨æˆ·</p><ol start="2"><li>æˆ‘ä»¬éœ€è¦å…ˆæŒ‰ç…§ç”¨æˆ·çš„åœ°åŒºåˆ†ç»„ï¼Œåœ¨æŒ‰å¹´é¾„åˆ†ç»„</li></ol><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Map&lt;String, Map&lt;Integer, List&lt;Customer&gt;&gt;&gt; groups = allCustomers.stream()</span></span>
<span class="line"><span>                .collect(groupingBy(Customer::getArea, groupingBy(Customer::getAge)));</span></span></code></pre></div><p>åœ¨ç›¸å¯¹äºæ™®é€šçš„åˆ†ç»„ï¼Œè¿™é‡Œå¤šä¼ äº†ç¬¬äºŒä¸ªå‚æ•°åˆæ˜¯ä¸€ä¸ª<code>groupingBy</code>ï¼›ç†è®ºä¸Šæˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªæ–¹å¼æ‰©å±•åˆ°nå±‚åˆ†ç»„</p><ol start="3"><li>åˆ†ç»„åå†ç»Ÿè®¡æ•°é‡</li></ol><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Map&lt;String, Long&gt; groupByCounting = allCustomers.stream()</span></span>
<span class="line"><span>            .collect(groupingBy(Customer::getArea, counting()));</span></span></code></pre></div><ol start="4"><li>ä»¥ç”¨æˆ·æ‰€åœ¨åœ°åŒºåˆ†ç»„åæ‰¾å‡ºå¹´é¾„æœ€å¤§çš„ç”¨æˆ·</li></ol><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Map&lt;String, Optional&lt;Customer&gt;&gt; optionalMap = allCustomers.stream()</span></span>
<span class="line"><span>                .collect(groupingBy(Customer::getArea, maxBy(Comparator.comparing(Customer::getAge))));</span></span></code></pre></div><p>è¿™æ—¶å€™è¿”å›çš„Mapä¸­çš„valueè¢«OptionalåŒ…è£¹ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦å»æ‰Optionalï¼Œå¯ä»¥ä½¿ç”¨<code>collectingAndThen</code></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Map&lt;String, Customer&gt; customerMap = allCustomers.stream()</span></span>
<span class="line"><span>        .collect(groupingBy(Customer::getArea,</span></span>
<span class="line"><span>                collectingAndThen(maxBy(Comparator.comparing(Customer::getAge)), Optional::get)</span></span>
<span class="line"><span>        ));</span></span></code></pre></div><hr><h3 id="å†™åœ¨æœ€å-çœ‹å®Œä¸ç‚¹èµ-ä½ ä»¬æƒ³ç™½å«–æˆ‘å—" tabindex="-1">å†™åœ¨æœ€åï¼ˆçœ‹å®Œä¸ç‚¹èµï¼Œä½ ä»¬æƒ³ç™½å«–æˆ‘å—ï¼‰ <a class="header-anchor" href="#å†™åœ¨æœ€å-çœ‹å®Œä¸ç‚¹èµ-ä½ ä»¬æƒ³ç™½å«–æˆ‘å—" aria-label="Permalink to &quot;å†™åœ¨æœ€åï¼ˆçœ‹å®Œä¸ç‚¹èµï¼Œä½ ä»¬æƒ³ç™½å«–æˆ‘å—ï¼‰&quot;">â€‹</a></h3><ul><li>é¦–å…ˆæ„Ÿè°¢å¤§å®¶å¯ä»¥è€å¿ƒåœ°è¯»åˆ°è¿™é‡Œã€‚<strong>ç‚¹å…³æ³¨ï¼Œä¸è¿·è·¯</strong></li><li>å½“ç„¶ï¼Œæ–‡ä¸­æˆ–è®¸ä¼šå­˜åœ¨æˆ–å¤šæˆ–å°‘çš„ä¸è¶³ã€é”™è¯¯ä¹‹å¤„ï¼Œæœ‰å»ºè®®æˆ–è€…æ„è§ä¹Ÿéå¸¸æ¬¢è¿å¤§å®¶åœ¨è¯„è®ºäº¤æµã€‚</li><li>æœ€åï¼Œ<strong>ç™½å«–ä¸å¥½ï¼Œåˆ›ä½œä¸æ˜“</strong>ï¼Œå¸Œæœ›æœ‹å‹ä»¬å¯ä»¥<strong>ç‚¹èµè¯„è®ºå…³æ³¨</strong>ä¸‰è¿ï¼Œå› ä¸ºè¿™äº›å°±æ˜¯æˆ‘åˆ†äº«çš„å…¨éƒ¨åŠ¨åŠ›æ¥æºğŸ™</li></ul><p>å‚æ•°èµ„æ–™ã€ŠJava8å®æˆ˜ã€‹</p>`,111),p=[l];function i(o,c,r,d,u,h){return e(),s("div",null,p)}const b=a(n,[["render",i]]);export{m as __pageData,b as default};
